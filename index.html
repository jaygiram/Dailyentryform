<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Report Form</title>
    <link rel="stylesheet" href="index.css">
    <style>

    </style>
</head>

<body>
    <form id="myForm"
        action="https://script.google.com/macros/s/AKfycbzp_6NQi1k7ara6YC0_o_DDbRYPRgLGB0W44qM8JHizbuLl58eITtSf5XTWAJK8bnIg/exec"
        method="POSt" name="DailyReport">
        <!-- User Dropdown -->
        <label for="user">User:</label>
        <select id="user" name="user" required>
            <option value="User 1">User 1</option>
            <option value="User 2">User 2</option>
        </select><br>

        <!-- Date (Default: Current Date) -->
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" value="" readonly><br>

        <!-- Timer showing current time -->
        <p id="currentTimeDisplay" name="currentTime">Current time: <span id="currentTime"></span></p>

        <!-- Hidden input for the current time -->
        <input type="hidden" id="currentTimeInput" name="currentTime" value="">

        <!-- Dropdown with 16 options -->
        <label for="option1">Option 1:</label>
        <select id="option1" name="option1" required>
            <option value="" disabled selected>Select an option</option>
            <option value="Shridevi Open" data-visible-from="630" data-visible-until="690">Shridevi open 11:30 AM
            </option>
            <option value="Shridevi Close" data-visible-from="630" data-visible-until="750">Shridevi close 12:30 PM
            </option>
            <option value="Padmavati Open" data-visible-from="630" data-visible-until="730">Padmavati open 11:40 AM
            </option>
            <option value="Padmavati Close" data-visible-from="630" data-visible-until="760">Padmavati close 12:40 PM
            </option>
            <option value="Timebazar Open" data-visible-from="630" data-visible-until="775">Timebazar open 12:55 PM
            </option>
            <option value="Timebazar Close" data-visible-from="630" data-visible-until="835">Timebazar close 01:55 PM
            </option>
            <option value="Milanday Open" data-visible-from="630" data-visible-until="895">Milanday open 02:55 PM
            </option>
            <option value="Kalyan Open" data-visible-from="630" data-visible-until="960">Kalyan open 04:00 PM
            </option>
            <option value="Milanday Close" data-visible-from="630" data-visible-until="955">Milanday close 04:55 PM
            </option>
            <option value="Kalyan Close" data-visible-from="630" data-visible-until="1015">Kalyan close 05:55 PM
            </option>
            <option value="Padmavati Night Open" data-visible-from="630" data-visible-until="1155">Padmavati night open
                07:35 PM</option>
            <option value="Padmavati Night Close" data-visible-from="630" data-visible-until="1215">Padmavati night
                close 08:35 PM</option>
            <option value="Shridevi Night Open" data-visible-from="630" data-visible-until="1170">Shridevi night open
                07:30 PM</option>
            <option value="Shridevi Night Close" data-visible-from="630" data-visible-until="1200">Shridevi night close
                08:30 PM</option>
            <option value="Milan Night Open" data-visible-from="630" data-visible-until="1260">Milan night open 09:00 PM
            </option>
            <option value="Kalyan Night Open" data-visible-from="630" data-visible-until="1290">Kalyan night open 09:30
                PM</option>
            <option value="Main Bazar Open" data-visible-from="630" data-visible-until="1300">Main bazar open 09:40 PM
            </option>
            <option value="Milan Night Close" data-visible-from="630" data-visible-until="1380">Milan night close 11:00
                PM</option>
            <option value="Kalyan Night Close" data-visible-from="630" data-visible-until="1410">Kalyan night close
                11:30 PM</option>
            <option value="Main Bazar Close" data-visible-from="630" data-visible-until="1435">Main bazar close 11:55 PM
            </option>
        </select>
        <br>

        <!-- Simplified Dropdown -->
        <label for="conditionalOption">Simple Dropdown:</label>
        <select id="conditionalOption" name="conditionalOption">
            <option value="" disabled selected>Select an option</option>
            <option value="akda">AKDA</option>
            <option value="jut">JUT</option>
            <option value="pana">PANA</option>
            <option value="sp">SP</option>
            <option value="dp">DP</option>
        </select><br><br>

        <!-- Sections for each option -->
        <div id="akdaSection" class="conditional-section" style="display: none;">
            <h3>AKDA Section</h3>
            <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;">
                <label><input type="checkbox" value="1" name="1"> 1</label>
                <label><input type="checkbox" value="2" name="2"> 2</label>
                <label><input type="checkbox" value="3" name="3"> 3</label>
                <label><input type="checkbox" value="4" name="4"> 4</label>
                <label><input type="checkbox" value="5" name="5"> 5</label>
                <label><input type="checkbox" value="6" name="6"> 6</label>
                <label><input type="checkbox" value="7" name="7"> 7</label>
                <label><input type="checkbox" value="8" name="8"> 8</label>
                <label><input type="checkbox" value="9" name="9"> 9</label>
                <label><input type="checkbox" value="0" name="0"> 0</label>
            </div>
        </div>


        <div id="jutSection" class="conditional-section" style="display: none;">
            <h3>JUT Section</h3>
            <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;">
                <label><input type="checkbox" value="11" name="11"> 11</label>
                <label><input type="checkbox" value="22" name="22"> 22</label>
                <label><input type="checkbox" value="33" name="33"> 33</label>
                <label><input type="checkbox" value="44" name="44"> 44</label>
                <label><input type="checkbox" value="55" name="55"> 55</label>
                <label><input type="checkbox" value="66" name="66"> 66</label>
                <label><input type="checkbox" value="77" name="77"> 77</label>
                <label><input type="checkbox" value="88" name="88"> 88</label>
                <label><input type="checkbox" value="99" name="99"> 99</label>
            </div>
        </div>


        <div id="panaSection" class="conditional-section" style="display: none;">
            <h3>PANA Section</h3>
            <p>This section is specific to PANA.</p>
        </div>

        <div id="spSection" class="conditional-section" style="display: none;">
            <h3>SP Section</h3>
            <div style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 10px;">
                <!-- Labels -->
                <label>777</label>
                <label>444</label>
                <label>111</label>
                <label>888</label>
                <label>555</label>
                <label>222</label>
                <label>999</label>
                <label>666</label>
                <label>333</label>
                <label>000</label>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>

                <!-- Checkboxes with names matching their labels -->
                <label><input type="checkbox" value="128" name="128"> 128</label>
                <label><input type="checkbox" value="129" name="129"> 129</label>
                <label><input type="checkbox" value="120" name="120"> 120</label>
                <label><input type="checkbox" value="130" name="130"> 130</label>
                <label><input type="checkbox" value="140" name="140"> 140</label>
                <label><input type="checkbox" value="123" name="123"> 123</label>
                <label><input type="checkbox" value="124" name="124"> 124</label>
                <label><input type="checkbox" value="125" name="125"> 125</label>
                <label><input type="checkbox" value="126" name="126"> 126</label>
                <label><input type="checkbox" value="127" name="127"> 127</label>
                <label><input type="checkbox" value="137" name="137"> 137</label>
                <label><input type="checkbox" value="138" name="138"> 138</label>
                <label><input type="checkbox" value="139" name="139"> 139</label>
                <label><input type="checkbox" value="149" name="149"> 149</label>
                <label><input type="checkbox" value="159" name="159"> 159</label>
                <label><input type="checkbox" value="150" name="150"> 150</label>
                <label><input type="checkbox" value="160" name="160"> 160</label>
                <label><input type="checkbox" value="134" name="134"> 134</label>
                <label><input type="checkbox" value="135" name="135"> 135</label>
                <label><input type="checkbox" value="136" name="136"> 136</label>
                <label><input type="checkbox" value="146" name="146"> 146</label>
                <label><input type="checkbox" value="147" name="147"> 147</label>
                <label><input type="checkbox" value="148" name="148"> 148</label>
                <label><input type="checkbox" value="158" name="158"> 158</label>
                <label><input type="checkbox" value="168" name="168"> 168</label>
                <label><input type="checkbox" value="169" name="169"> 169</label>
                <label><input type="checkbox" value="179" name="179"> 179</label>
                <label><input type="checkbox" value="170" name="170"> 170</label>
                <label><input type="checkbox" value="180" name="180"> 180</label>
                <label><input type="checkbox" value="236" name="236"> 236</label>
                <label><input type="checkbox" value="156" name="156"> 156</label>
                <label><input type="checkbox" value="157" name="157"> 157</label>
                <label><input type="checkbox" value="167" name="167"> 167</label>
                <label><input type="checkbox" value="230" name="230"> 230</label>
                <label><input type="checkbox" value="178" name="178"> 178</label>
                <label><input type="checkbox" value="250" name="250"> 250</label>
                <label><input type="checkbox" value="189" name="189"> 189</label>
                <label><input type="checkbox" value="234" name="234"> 234</label>
                <label><input type="checkbox" value="190" name="190"> 190</label>
                <label><input type="checkbox" value="245" name="245"> 245</label>
                <label><input type="checkbox" value="237" name="237"> 237</label>
                <label><input type="checkbox" value="238" name="238"> 238</label>
                <label><input type="checkbox" value="239" name="239"> 239</label>
                <label><input type="checkbox" value="249" name="249"> 249</label>
                <label><input type="checkbox" value="240" name="240"> 240</label>
                <label><input type="checkbox" value="269" name="269"> 269</label>
                <label><input type="checkbox" value="260" name="260"> 260</label>
                <label><input type="checkbox" value="270" name="270"> 270</label>
                <label><input type="checkbox" value="235" name="235"> 235</label>
                <label><input type="checkbox" value="290" name="290"> 290</label>
                <label><input type="checkbox" value="246" name="246"> 246</label>
                <label><input type="checkbox" value="247" name="247"> 247</label>
                <label><input type="checkbox" value="248" name="248"> 248</label>
                <label><input type="checkbox" value="258" name="258"> 258</label>
                <label><input type="checkbox" value="259" name="259"> 259</label>
                <label><input type="checkbox" value="278" name="278"> 278</label>
                <label><input type="checkbox" value="279" name="279"> 279</label>
                <label><input type="checkbox" value="289" name="289"> 289</label>
                <label><input type="checkbox" value="280" name="280"> 280</label>
                <label><input type="checkbox" value="380" name="380"> 380</label>
                <label><input type="checkbox" value="345" name="345"> 345</label>
                <label><input type="checkbox" value="256" name="256"> 256</label>
                <label><input type="checkbox" value="257" name="257"> 257</label>
                <label><input type="checkbox" value="267" name="267"> 267</label>
                <label><input type="checkbox" value="268" name="268"> 268</label>
                <label><input type="checkbox" value="340" name="340"> 340</label>
                <label><input type="checkbox" value="350" name="350"> 350</label>
                <label><input type="checkbox" value="360" name="360"> 360</label>
                <label><input type="checkbox" value="370" name="370"> 370</label>
                <label><input type="checkbox" value="470" name="470"> 470</label>
                <label><input type="checkbox" value="390" name="390"> 390</label>
                <label><input type="checkbox" value="346" name="346"> 346</label>
                <label><input type="checkbox" value="347" name="347"> 347</label>
                <label><input type="checkbox" value="348" name="348"> 348</label>
                <label><input type="checkbox" value="349" name="349"> 349</label>
                <label><input type="checkbox" value="359" name="359"> 359</label>
                <label><input type="checkbox" value="369" name="369"> 369</label>
                <label><input type="checkbox" value="379" name="379"> 379</label>
                <label><input type="checkbox" value="389" name="389"> 389</label>
                <label><input type="checkbox" value="489" name="489"> 489</label>
                <label><input type="checkbox" value="480" name="480"> 480</label>
                <label><input type="checkbox" value="490" name="490"> 490</label>
                <label><input type="checkbox" value="356" name="356"> 356</label>
                <label><input type="checkbox" value="357" name="357"> 357</label>
                <label><input type="checkbox" value="358" name="358"> 358</label>
                <label><input type="checkbox" value="368" name="368"> 368</label>
                <label><input type="checkbox" value="378" name="378"> 378</label>
                <label><input type="checkbox" value="450" name="450"> 450</label>
                <label><input type="checkbox" value="460" name="460"> 460</label>
                <label><input type="checkbox" value="560" name="560"> 560</label>
                <label><input type="checkbox" value="570" name="570"> 570</label>
                <label><input type="checkbox" value="580" name="580"> 580</label>
                <label><input type="checkbox" value="590" name="590"> 590</label>
                <label><input type="checkbox" value="456" name="456"> 456</label>
                <label><input type="checkbox" value="367" name="367"> 367</label>
                <label><input type="checkbox" value="458" name="458"> 458</label>
                <label><input type="checkbox" value="459" name="459"> 459</label>
                <label><input type="checkbox" value="469" name="469"> 469</label>
                <label><input type="checkbox" value="479" name="479"> 479</label>
                <label><input type="checkbox" value="579" name="579"> 579</label>
                <label><input type="checkbox" value="589" name="589"> 589</label>
                <label><input type="checkbox" value="670" name="670"> 670</label>
                <label><input type="checkbox" value="680" name="680"> 680</label>
                <label><input type="checkbox" value="690" name="690"> 690</label>
                <label><input type="checkbox" value="457" name="457"> 457</label>
                <label><input type="checkbox" value="467" name="467"> 467</label>
                <label><input type="checkbox" value="468" name="468"> 468</label>
                <label><input type="checkbox" value="478" name="478"> 478</label>
                <label><input type="checkbox" value="569" name="569"> 569</label>
                <label><input type="checkbox" value="678" name="678"> 678</label>
                <label><input type="checkbox" value="679" name="679"> 679</label>
                <label><input type="checkbox" value="689" name="689"> 689</label>
                <label><input type="checkbox" value="789" name="789"> 789</label>
                <label><input type="checkbox" value="780" name="780"> 780</label>
                <label><input type="checkbox" value="790" name="790"> 790</label>
                <label><input type="checkbox" value="890" name="890"> 890</label>
                <label><input type="checkbox" value="567" name="567"> 567</label>
                <label><input type="checkbox" value="568" name="568"> 568</label>
                <label><input type="checkbox" value="578" name="578"> 578</label>
            </div>
        </div>

        <div id="dpSection" class="conditional-section" style="display: none;">
            <h3>DP Section</h3>
            <div style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 10px;">
                <label>777</label>
                <label>444</label>
                <label>111</label>
                <label>888</label>
                <label>555</label>
                <label>222</label>
                <label>999</label>
                <label>666</label>
                <label>333</label>
                <label>000</label>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>
                <hr>

                <label><input type="checkbox" value="100" name="100"> 100</label>
                <label><input type="checkbox" value="110" name="110"> 110</label>
                <label><input type="checkbox" value="166" name="166"> 166</label>
                <label><input type="checkbox" value="112" name="112"> 112</label>
                <label><input type="checkbox" value="113" name="113"> 113</label>
                <label><input type="checkbox" value="114" name="114"> 114</label>
                <label><input type="checkbox" value="115" name="115"> 115</label>
                <label><input type="checkbox" value="196" name="196"> 196</label>
                <label><input type="checkbox" value="117" name="117"> 117</label>
                <label><input type="checkbox" value="118" name="118"> 118</label>
                <label><input type="checkbox" value="119" name="119"> 119</label>
                <label><input type="checkbox" value="200" name="200"> 200</label>
                <label><input type="checkbox" value="229" name="229"> 229</label>
                <label><input type="checkbox" value="220" name="220"> 220</label>
                <label><input type="checkbox" value="122" name="122"> 122</label>
                <label><input type="checkbox" value="277" name="277"> 277</label>
                <label><input type="checkbox" value="133" name="133"> 133</label>
                <label><input type="checkbox" value="224" name="224"> 224</label>
                <label><input type="checkbox" value="144" name="144"> 144</label>
                <label><input type="checkbox" value="226" name="226"> 226</label>
                <label><input type="checkbox" value="155" name="155"> 155</label>
                <label><input type="checkbox" value="228" name="228"> 228</label>
                <label><input type="checkbox" value="300" name="300"> 300</label>
                <label><input type="checkbox" value="266" name="266"> 266</label>
                <label><input type="checkbox" value="177" name="177"> 177</label>
                <label><input type="checkbox" value="330" name="330"> 330</label>
                <label><input type="checkbox" value="188" name="188"> 188</label>
                <label><input type="checkbox" value="233" name="233"> 233</label>
                <label><input type="checkbox" value="199" name="199"> 199</label>
                <label><input type="checkbox" value="244" name="244"> 244</label>
                <label><input type="checkbox" value="227" name="227"> 227</label>
                <label><input type="checkbox" value="255" name="255"> 255</label>
                <label><input type="checkbox" value="337" name="337"> 337</label>
                <label><input type="checkbox" value="338" name="338"> 338</label>
                <label><input type="checkbox" value="339" name="339"> 339</label>
                <label><input type="checkbox" value="448" name="448"> 448</label>
                <label><input type="checkbox" value="223" name="223"> 223</label>
                <label><input type="checkbox" value="288" name="288"> 288</label>
                <label><input type="checkbox" value="225" name="225"> 225</label>
                <label><input type="checkbox" value="299" name="299"> 299</label>
                <label><input type="checkbox" value="335" name="335"> 335</label>
                <label><input type="checkbox" value="336" name="336"> 336</label>
                <label><input type="checkbox" value="355" name="355"> 355</label>
                <label><input type="checkbox" value="400" name="400"> 400</label>
                <label><input type="checkbox" value="366" name="366"> 366</label>
                <label><input type="checkbox" value="466" name="466"> 466</label>
                <label><input type="checkbox" value="377" name="377"> 377</label>
                <label><input type="checkbox" value="440" name="440"> 440</label>
                <label><input type="checkbox" value="388" name="388"> 388</label>
                <label><input type="checkbox" value="334" name="334"> 334</label>
                <label><input type="checkbox" value="344" name="344"> 344</label>
                <label><input type="checkbox" value="499" name="499"> 499</label>
                <label><input type="checkbox" value="445" name="445"> 445</label>
                <label><input type="checkbox" value="446" name="446"> 446</label>
                <label><input type="checkbox" value="447" name="447"> 447</label>
                <label><input type="checkbox" value="556" name="556"> 556</label>
                <label><input type="checkbox" value="449" name="449"> 449</label>
                <label><input type="checkbox" value="477" name="477"> 477</label>
                <label><input type="checkbox" value="559" name="559"> 559</label>
                <label><input type="checkbox" value="488" name="488"> 488</label>
                <label><input type="checkbox" value="399" name="399"> 399</label>
                <label><input type="checkbox" value="660" name="660"> 660</label>
                <label><input type="checkbox" value="599" name="599"> 599</label>
                <label><input type="checkbox" value="455" name="455"> 455</label>
                <label><input type="checkbox" value="150" name="150"> 150</label>
                <label><input type="checkbox" value="600" name="600"> 600</label>
                <label><input type="checkbox" value="557" name="557"> 557</label>
                <label><input type="checkbox" value="558" name="558"> 558</label>
                <label><input type="checkbox" value="577" name="577"> 577</label>
                <label><input type="checkbox" value="550" name="550"> 550</label>
                <label><input type="checkbox" value="588" name="588"> 588</label>
                <label><input type="checkbox" value="688" name="688"> 688</label>
                <label><input type="checkbox" value="779" name="779"> 779</label>
                <label><input type="checkbox" value="699" name="699"> 699</label>
                <label><input type="checkbox" value="799" name="799"> 799</label>
                <label><input type="checkbox" value="880" name="880"> 880</label>
                <label><input type="checkbox" value="566" name="566"> 566</label>
                <label><input type="checkbox" value="800" name="800"> 800</label>
                <label><input type="checkbox" value="667" name="667"> 667</label>
                <label><input type="checkbox" value="677" name="677"> 677</label>
                <label><input type="checkbox" value="669" name="669"> 669</label>
                <label><input type="checkbox" value="778" name="778"> 778</label>
                <label><input type="checkbox" value="788" name="788"> 788</label>
                <label><input type="checkbox" value="770" name="770"> 770</label>
                <label><input type="checkbox" value="889" name="889"> 889</label>
                <label><input type="checkbox" value="899" name="899"> 899</label>
                <label><input type="checkbox" value="700" name="700"> 700</label>
                <label><input type="checkbox" value="990" name="990"> 990</label>
                <label><input type="checkbox" value="900" name="900"> 900</label>
                <label><input type="checkbox" value="668" name="668"> 668</label>
            </div>
        </div>


        <!-- Number Input -->
        <label for="numberInput">Number Input:</label>
        <input type="number" id="numberInput" name="numberInput"><br><br>

        <!-- Submit and Clear Buttons -->
        <button type="submit" onclick="submitForm(event)">Submit</button>
        <button type="button" id="clearButton">Clear</button>

        <div id="responseMessage"></div>
    </form>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
    // Set current date
    document.getElementById('date').value = new Date().toISOString().slice(0, 10);

    // Display current time in real-time and set it in the hidden input field
    function CurrentTime() {
        const now = new Date();
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const seconds = now.getSeconds().toString().padStart(2, '0');
        const formattedTime = `${hours}:${minutes}:${seconds}`;

        // Update the displayed time
        document.getElementById('currentTime').innerText = formattedTime;

        // Set the hidden input value to the current time
        document.getElementById('currentTimeInput').value = formattedTime;
    }
    setInterval(CurrentTime, 1000); // Update every second

    // Control visibility of each option based on time
    function controlOptionVisibility() {
        const now = new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const totalMinutes = hours * 60 + minutes;

        const options = document.querySelectorAll('#option1 option');
        options.forEach(option => {
            const visibleFrom = parseInt(option.getAttribute('data-visible-from'), 10);
            const visibleUntil = parseInt(option.getAttribute('data-visible-until'), 10);

            if (totalMinutes >= visibleFrom && totalMinutes < visibleUntil) {
                option.style.display = 'block';
            } else {
                option.style.display = 'none';
            }
        });
    }

    // Run the control function on load
    controlOptionVisibility();

    // Optionally, update the visibility every minute
    setInterval(controlOptionVisibility, 60000);

    // Control the visibility of the JUT option in the simplified dropdown
    function updateConditionalOptionVisibility() {
        const selectedOption = document.getElementById('option1').value;
        const conditionalOption = document.getElementById('conditionalOption');
        const jutOption = conditionalOption.querySelector('option[value="jut"]');

        if (selectedOption.includes('Open')) {
            jutOption.style.display = 'block';
        } else {
            jutOption.style.display = 'none';
        }
    }

    // Function to update the visibility of sections based on dropdown selection
    function updateSectionVisibility() {
        const selectedOption = document.getElementById('conditionalOption').value;

        // Hide all sections
        document.querySelectorAll('.conditional-section').forEach(section => {
            section.style.display = 'none';
            // Uncheck all checkboxes when hiding sections
            section.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
        });

        // Show the relevant section based on the selected option
        if (selectedOption === 'akda') {
            document.getElementById('akdaSection').style.display = 'block';
        } else if (selectedOption === 'jut') {
            document.getElementById('jutSection').style.display = 'block';
        } else if (selectedOption === 'pana') {
            document.getElementById('panaSection').style.display = 'block';
        } else if (selectedOption === 'sp') {
            document.getElementById('spSection').style.display = 'block';
        } else if (selectedOption === 'dp') {
            document.getElementById('dpSection').style.display = 'block';
        }
    }

    // Function to enforce single checkbox selection
    function enforceSingleCheckboxSelection(event) {
        const checkboxes = document.querySelectorAll('.conditional-section input[type="checkbox"]');
        if (event.target.type === 'checkbox') {
            checkboxes.forEach(checkbox => {
                if (checkbox !== event.target) {
                    checkbox.checked = false;
                }
            });
        }
    }

    // Add event listener for dropdown changes
    document.getElementById('conditionalOption').addEventListener('change', updateSectionVisibility);

    // Add event listener for when the option1 dropdown value changes
    document.getElementById('option1').addEventListener('change', updateConditionalOptionVisibility);

    // Add event listener to enforce single checkbox selection
    document.querySelectorAll('.conditional-section input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', enforceSingleCheckboxSelection);
    });

    // Submit form function
    window.submitForm = function(event) {
        event.preventDefault(); // Prevent default form submission

        var form = document.getElementById('myForm');
        var formData = new FormData(form);

        // Create a variable to store the selected checkbox value
        var checkboxValue = null;

        // Find the selected checkbox and get its value
        var checkboxes = document.querySelectorAll('.conditional-section input[type="checkbox"]');
        checkboxes.forEach(function(checkbox) {
            if (checkbox.checked) {
                checkboxValue = checkbox.value;
            }
        });

        // If a checkbox is selected, append its value to the form data
        if (checkboxValue !== null) {
            formData.append('checkboxValue', checkboxValue);
        }

        // Append currentTime and simpleDropdown values
        const currentTime = document.getElementById('currentTimeInput').value;
        const simpleDropdown = document.getElementById('simpleDropdown') ? document.getElementById('simpleDropdown').value : 'Unknown';

        // Debugging logs
   

        formData.append('currentTime', currentTime);
        formData.append('simpleDropdown', simpleDropdown);
               
        fetch('https://script.google.com/macros/s/AKfycbzoKussCwY1aI8IJPxEqtKBghNb_41spZ3P5zhPMCe6iGXzFwaYMkLMIFKw_OtQ34qC/exec', {
            method: 'POST',
            body: formData,
            mode: 'cors' // Ensure CORS mode is set
        })
        .then(response => response.json())
        .then(data => {
            var messageDiv = document.getElementById('responseMessage');
            if (data.result === 'success') {
                alert('Form submitted successfully!'); // Success alert
                location.reload(); // Auto-refresh the page
            } else {
                messageDiv.textContent = 'Error: ' + (data.message || 'An unknown error occurred.');
                messageDiv.style.color = 'red';
            }
        })
        .catch(error => {
            var messageDiv = document.getElementById('responseMessage');
            messageDiv.textContent = 'Error: ' + error.message;
            messageDiv.style.color = 'red';
        });
    }
});

    </script>


</body>

</html>